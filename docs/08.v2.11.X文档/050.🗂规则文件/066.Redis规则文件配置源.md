---
title: Redis规则文件配置源
date: 2023-08-23 19:55:26
permalink: /pages/186747/
---

LiteFlow从v2.11.0开始，原生支持了Redis的规则配置源。

## 依赖

如果使用Redis作为规则配置源，你需要添加以下额外插件依赖：

```xml
<dependency>
    <groupId>com.yomahub</groupId>
    <artifactId>liteflow-rule-redis</artifactId>
    <version>2.11.0</version>
</dependency>
```

## 配置模式

依赖了插件包之后，你无需再配置`liteflow.ruleSource`路径。

只需要配置插件的额外参数即可。

Redis配置源支持平滑热刷新，在刷新机制上实现了【**轮询**】和【**订阅**】两种模式，可依据需要选择。

>【**轮询模式**】：基于Redis的Hash结构，通过定时轮询的方式进行规则刷新，轮询频率可配置，轮询间隔内有一定刷新延迟。
>
>【**订阅模式**】：依赖于Redisson客户端的RMapCache存储结构，只支持将规则数据存储在独有的RMapCache结构中；可实现规则的实时平滑刷新。

两种模式的插件依赖相同，仅通过配置参数加以区分。

若无模式选择的参数配置，默认选择为轮询模式。